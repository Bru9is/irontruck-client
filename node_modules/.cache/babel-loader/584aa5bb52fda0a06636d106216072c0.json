{"ast":null,"code":"import axios from \"axios\";\n\nclass ApiService {\n  constructor() {\n    this.api = axios.create({\n      baseURL: process.env.REACT_APP_API_BASE\n    });\n    this.api.interceptors.request.use(config => {\n      // Verifica se já temos as informações do usuário logado no localStorage\n      const storedUser = localStorage.getItem(\"loggedInUser\");\n      const loggedInUser = JSON.parse(storedUser || '\"\"');\n\n      if (loggedInUser.token) {\n        config.headers = {\n          Authorization: `Bearer ${loggedInUser.token}`\n        };\n      }\n\n      return config;\n    });\n  }\n\n  async signUp(user) {\n    return await this.api.post(\"/signup\", user);\n  }\n\n  async login(user) {\n    return await this.api.post(\"/login\", user);\n  }\n\n}\n\nexport default new ApiService();","map":{"version":3,"names":["axios","ApiService","constructor","api","create","baseURL","process","env","REACT_APP_API_BASE","interceptors","request","use","config","storedUser","localStorage","getItem","loggedInUser","JSON","parse","token","headers","Authorization","signUp","user","post","login"],"sources":["/Users/admintpnq/Desktop/Ironhack/final-project/irontruck-client/src/services/api.service.js"],"sourcesContent":["import axios from \"axios\";\n\nclass ApiService {\n  constructor() {\n    this.api = axios.create({\n      baseURL: process.env.REACT_APP_API_BASE,\n    });\n\n    this.api.interceptors.request.use((config) => {\n      // Verifica se já temos as informações do usuário logado no localStorage\n      const storedUser = localStorage.getItem(\"loggedInUser\");\n    \n      const loggedInUser = JSON.parse(storedUser || '\"\"');\n    \n      if (loggedInUser.token) {\n        config.headers = {\n          Authorization: `Bearer ${loggedInUser.token}`,\n        };\n      }\n    \n      return config;\n    });\n  }\n\n  async signUp(user) {\n    return await this.api.post(\"/signup\", user);\n  }\n\n  async login(user) {\n    return await this.api.post(\"/login\", user);\n  }\n}\n\nexport default new ApiService();\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,UAAN,CAAiB;EACfC,WAAW,GAAG;IACZ,KAAKC,GAAL,GAAWH,KAAK,CAACI,MAAN,CAAa;MACtBC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;IADC,CAAb,CAAX;IAIA,KAAKL,GAAL,CAASM,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAmCC,MAAD,IAAY;MAC5C;MACA,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAnB;MAEA,MAAMC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWL,UAAU,IAAI,IAAzB,CAArB;;MAEA,IAAIG,YAAY,CAACG,KAAjB,EAAwB;QACtBP,MAAM,CAACQ,OAAP,GAAiB;UACfC,aAAa,EAAG,UAASL,YAAY,CAACG,KAAM;QAD7B,CAAjB;MAGD;;MAED,OAAOP,MAAP;IACD,CAbD;EAcD;;EAEW,MAANU,MAAM,CAACC,IAAD,EAAO;IACjB,OAAO,MAAM,KAAKpB,GAAL,CAASqB,IAAT,CAAc,SAAd,EAAyBD,IAAzB,CAAb;EACD;;EAEU,MAALE,KAAK,CAACF,IAAD,EAAO;IAChB,OAAO,MAAM,KAAKpB,GAAL,CAASqB,IAAT,CAAc,QAAd,EAAwBD,IAAxB,CAAb;EACD;;AA5Bc;;AA+BjB,eAAe,IAAItB,UAAJ,EAAf"},"metadata":{},"sourceType":"module"}